<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Update Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
        }
        .sidebar {
            width: 200px;
            background-color: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
            padding: 10px;
        }
        .sidebar button {
            font-size: 16px; /* Set a consistent font size */
            background: none;
            border: none;
            color: white;
            padding: 10px;
            text-align: left;
            width: 100%;
            cursor: pointer;
            border-bottom: 1px solid #34495e;
        }
        .sidebar button:hover {
            background-color: #34495e;
        }
        .content {
            margin-left: 220px; /* Adjust to match sidebar width */
            padding: 20px;
            flex: 1;
        }
        h1 {
            margin-bottom: 20px;
        }
        form label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        form input, form textarea, form button {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        form button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        form button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <button onclick="window.location.href='createBlog.html'">Create Blog</button>
        <button onclick="window.location.href='updateBlog.html'">Update Blog</button>
        <button onclick="window.location.href='deleteBlog.html'">Delete Blog</button>
        <hr>
        <button onclick="window.location.href='createTrip.html'">Create Trip</button>
        <button onclick="window.location.href='updateTrip.html'">Update Trip</button>
        <button onclick="window.location.href='deleteTrip.html'">Delete Trip</button>
        <hr>
        <button onclick="window.location.href='addBooking.html'">Trip dates Management</button>
    </div>

    <!-- Admin Dashboard Section -->
    <div class="content">
        <h1>Update Blog</h1>
        <form id="updateBlogForm">
            <label for="currentTitle">Current Title:</label>
            <input type="text" id="currentTitle" name="currentTitle" required placeholder="Enter the current blog title">
        
            <label for="newTitle">New Title:</label>
            <input type="text" id="newTitle" name="newTitle" required placeholder="Enter the new blog title">
        
            <label for="excerpt">Excerpt:</label>
            <input type="text" id="excerpt" name="excerpt" placeholder="Update the blog excerpt">
        
            <label for="content">Content:</label>
            <textarea id="content" name="content" placeholder="Update the full blog content"></textarea>
        
            <label for="imageUrl">Image URL:</label>
            <input type="text" id="imageUrl" name="imageUrl" placeholder="Update the blog image URL">
        
            <label for="coverImage">Cover Image URL:</label>
            <input type="text" id="coverImage" name="coverImage" placeholder="Update the cover image URL">
        
            <label for="author">Author:</label>
            <input type="text" id="author" name="author" placeholder="Update the author name">
        
            <label for="introductionText">Introduction Text:</label>
            <textarea id="introductionText" name="introductionText" placeholder="Update the introductory text"></textarea>
        
            <label for="image1">Image 1 URL:</label>
            <input type="text" id="image1" name="image1" placeholder="Update the first image URL (optional)">
        
            <label for="text1">Text for Image 1:</label>
            <textarea id="text1" name="text1" placeholder="Update the text for the first image (optional)"></textarea>
        
            <label for="image2">Image 2 URL:</label>
            <input type="text" id="image2" name="image2" placeholder="Update the second image URL (optional)">
        
            <label for="text2">Text for Image 2:</label>
            <textarea id="text2" name="text2" placeholder="Update the text for the second image (optional)"></textarea>
        
            <label for="image3">Image 3 URL:</label>
            <input type="text" id="image3" name="image3" placeholder="Update the third image URL (optional)">
        
            <label for="text3">Text for Image 3:</label>
            <textarea id="text3" name="text3" placeholder="Update the text for the third image (optional)"></textarea>
        
            <label for="image4">Image 4 URL:</label>
            <input type="text" id="image4" name="image4" placeholder="Update the fourth image URL (optional)">
        
            <label for="text4">Text for Image 4:</label>
            <textarea id="text4" name="text4" placeholder="Update the text for the fourth image (optional)"></textarea>
        
            <label for="image5">Image 5 URL:</label>
            <input type="text" id="image5" name="image5" placeholder="Update the fifth image URL (optional)">
        
            <label for="text5">Text for Image 5:</label>
            <textarea id="text5" name="text5" placeholder="Update the text for the fifth image (optional)"></textarea>
        
            <label for="heading1">Heading 1:</label>
            <input type="text" id="heading1" name="heading1" placeholder="Update the first heading (optional)">
        
            <label for="heading2">Heading 2:</label>
            <input type="text" id="heading2" name="heading2" placeholder="Update the second heading (optional)">
        
            <label for="heading3">Heading 3:</label>
            <input type="text" id="heading3" name="heading3" placeholder="Update the third heading (optional)">
        
            <label for="heading4">Heading 4:</label>
            <input type="text" id="heading4" name="heading4" placeholder="Update the fourth heading (optional)">
        
            <label for="heading5">Heading 5:</label>
            <input type="text" id="heading5" name="heading5" placeholder="Update the fifth heading (optional)">
        
            <label for="conclusion">Conclusion:</label>
            <textarea id="conclusion" name="conclusion" placeholder="Update the conclusion"></textarea>
        
            <label for="commentsCount">Comments Count:</label>
            <input type="number" id="commentsCount" name="commentsCount" placeholder="Update the number of comments">
        
            <label for="href">Href:</label>
            <input type="text" id="href" name="href" placeholder="Update the blog slug (e.g., /blog/your-post)">
        
            <label for="featured">Featured:</label>
            <input type="checkbox" id="featured" name="featured">
            <label for="featured">Mark as featured</label>
        
            <button type="submit">Update Blog</button>
        </form>
        
    </div>
    

    <script>
        document.getElementById("updateBlogForm").addEventListener("submit", async (event) => {
            event.preventDefault();
    
            const formData = {
                currentTitle: document.getElementById("currentTitle").value,
                newTitle: document.getElementById("newTitle").value,
                excerpt: document.getElementById("excerpt").value,
                content: document.getElementById("content").value,
                imageUrl: document.getElementById("imageUrl").value,
                author: document.getElementById("author").value,
                commentsCount: document.getElementById("commentsCount").value,
                href: document.getElementById("href").value,
                previewContent: document.getElementById("previewContent").value,
                summary: document.getElementById("summary").value,
                featured: document.getElementById("featured").checked,
                heading1: document.getElementById("heading1").value,
                heading2: document.getElementById("heading2").value,
                heading3: document.getElementById("heading3").value,
                heading4: document.getElementById("heading4").value,
                heading5: document.getElementById("heading5").value
            };
    
            try {
                const response = await fetch("https://crabackendnew.vercel.app/api/blogs/update", {
                    method: "PUT",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(formData)
                });
    
                if (response.ok) {
                    alert("Blog updated successfully!");
                } else {
                    alert("Error updating blog.");
                }
            } catch (error) {
                alert(`Error: ${error.message}`);
            }
        });
    </script>
    
</body>
</html>
