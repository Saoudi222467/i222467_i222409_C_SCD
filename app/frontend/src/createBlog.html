<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Blog Post</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
         body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
        }
        .sidebar {
            width: 200px;
            background-color: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
            padding: 10px;
        }
        .sidebar button {
            font-size: 16px; /* Set a consistent font size */
            background: none;
            border: none;
            color: white;
            padding: 10px;
            text-align: left;
            width: 100%;
            cursor: pointer;
            border-bottom: 1px solid #34495e;
        }
        .sidebar button:hover {
            background-color: #34495e;
        }
        .content {
            margin:0px 220px; /* Adjust to match sidebar width */
            padding: 20px;
            flex: 1;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        form label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        input[type="text"], input[type="url"], textarea, input[type="number"], input[type="checkbox"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        textarea {
            resize: vertical;
            height: 200px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .message {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <button onclick="window.location.href='createBlog.html'">Create Blog</button>
        <button onclick="window.location.href='updateBlog.html'">Update Blog</button>
        <button onclick="window.location.href='deleteBlog.html'">Delete Blog</button>
        <hr>
        <button onclick="window.location.href='createTrip.html'">Create Trip</button>
        <button onclick="window.location.href='updateTrip.html'">Update Trip</button>
        <button onclick="window.location.href='deleteTrip.html'">Delete Trip</button>
        <hr>
        <button onclick="window.location.href='addBooking.html'">Trip dates Management</button>
    </div>

    <div class="content">
        <h2>Create a New Blog Post</h2>
        
        <form id="blogForm">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required placeholder="Enter the blog title">
            </div>
            <div class="form-group">
                <label for="excerpt">Excerpt</label>
                <input type="text" id="excerpt" name="excerpt" required placeholder="Enter the blog excerpt">
            </div>
            <div class="form-group">
                <label for="content">Content</label>
                <textarea id="content" name="content" required placeholder="Enter the full blog content"></textarea>
            </div>
            <div class="form-group">
                <label for="imageUrl">Image URL</label>
                <input type="url" id="imageUrl" name="imageUrl" required placeholder="Enter the blog image URL">
            </div>
            <div class="form-group">
                <label for="coverImage">Cover Image URL</label>
                <input type="url" id="coverImage" name="coverImage" required placeholder="Enter the cover image URL">
            </div>
            <div class="form-group">
                <label for="author">Author</label>
                <input type="text" id="author" name="author" required placeholder="Enter the author name">
            </div>
            <div class="form-group">
                <label for="introductionText">Introduction Text</label>
                <textarea id="introductionText" name="introductionText" required placeholder="Enter the introductory text"></textarea>
            </div>
            <div class="form-group">
                <label for="image1">Image 1 URL</label>
                <input type="url" id="image1" name="image1" placeholder="Enter the first image URL (optional)">
            </div>
            <div class="form-group">
                <label for="text1">Text for Image 1</label>
                <textarea id="text1" name="text1" placeholder="Enter the text for the first image (optional)"></textarea>
            </div>
            <div class="form-group">
                <label for="image2">Image 2 URL</label>
                <input type="url" id="image2" name="image2" placeholder="Enter the second image URL (optional)">
            </div>
            <div class="form-group">
                <label for="text2">Text for Image 2</label>
                <textarea id="text2" name="text2" placeholder="Enter the text for the second image (optional)"></textarea>
            </div>
            <div class="form-group">
                <label for="image3">Image 3 URL</label>
                <input type="url" id="image3" name="image3" placeholder="Enter the third image URL (optional)">
            </div>
            <div class="form-group">
                <label for="text3">Text for Image 3</label>
                <textarea id="text3" name="text3" placeholder="Enter the text for the third image (optional)"></textarea>
            </div>
            <div class="form-group">
                <label for="image4">Image 4 URL</label>
                <input type="url" id="image4" name="image4" placeholder="Enter the fourth image URL (optional)">
            </div>
            <div class="form-group">
                <label for="text4">Text for Image 4</label>
                <textarea id="text4" name="text4" placeholder="Enter the text for the fourth image (optional)"></textarea>
            </div>
            <div class="form-group">
                <label for="image5">Image 5 URL</label>
                <input type="url" id="image5" name="image5" placeholder="Enter the fifth image URL (optional)">
            </div>
            <div class="form-group">
                <label for="text5">Text for Image 5</label>
                <textarea id="text5" name="text5" placeholder="Enter the text for the fifth image (optional)"></textarea>
            </div>
            <div class="form-group">
                <label for="heading1">Heading 1</label>
                <input type="text" id="heading1" name="heading1" required placeholder="Enter the text for Heading 1">
            </div>
            <div class="form-group">
                <label for="heading2">Heading 2</label>
                <input type="text" id="heading2" name="heading2" required placeholder="Enter the text for Heading 2">
            </div>
            <div class="form-group">
                <label for="heading3">Heading 3</label>
                <input type="text" id="heading3" name="heading3" required placeholder="Enter the text for Heading 3">
            </div>
            <div class="form-group">
                <label for="heading4">Heading 4</label>
                <input type="text" id="heading4" name="heading4" required placeholder="Enter the text for Heading 4">
            </div>
            <div class="form-group">
                <label for="heading5">Heading 5</label>
                <input type="text" id="heading5" name="heading5" required placeholder="Enter the text for Heading 5">
            </div>
            <div class="form-group">
                <label for="conclusion">Conclusion</label>
                <textarea id="conclusion" name="conclusion" required placeholder="Enter the concluding text"></textarea>
            </div>
            <div class="form-group">
                <label for="commentsCount">Comments Count</label>
                <input type="number" id="commentsCount" name="commentsCount" value="0" required placeholder="Enter number of comments">
            </div>
            <div class="form-group">
                <label for="href">Blog URL (Slug)</label>
                <input type="text" id="href" name="href" required placeholder="Enter the blog slug (e.g., /blog/your-post)">
            </div>
            <button type="submit">Create Blog Post</button>
        </form>
        

        <div id="message" class="message"></div>
    </div>

    <script>
        // Handle form submission
        document.getElementById('blogForm').addEventListener('submit', async function(event) {
            event.preventDefault();
    
            // Get form values
            const title = document.getElementById('title').value;
            const excerpt = document.getElementById('excerpt').value;
            const content = document.getElementById('content').value;
            const imageUrl = document.getElementById('imageUrl').value;
            const author = document.getElementById('author').value;
            const commentsCount = parseInt(document.getElementById('commentsCount').value) || 0;
            const href = document.getElementById('href').value;
            const coverImage = document.getElementById('coverImage').value;
            const introductionText = document.getElementById('introductionText').value;
            const image1 = document.getElementById('image1').value || null;
            const text1 = document.getElementById('text1').value || null;
            const image2 = document.getElementById('image2').value || null;
            const text2 = document.getElementById('text2').value || null;
            const image3 = document.getElementById('image3').value || null;
            const text3 = document.getElementById('text3').value || null;
            const image4 = document.getElementById('image4').value || null;
            const text4 = document.getElementById('text4').value || null;
            const image5 = document.getElementById('image5').value || null;
            const text5 = document.getElementById('text5').value || null;
            const heading1 = document.getElementById('heading1').value || null;
            const heading2 = document.getElementById('heading2').value || null;
            const heading3 = document.getElementById('heading3').value || null;
            const heading4 = document.getElementById('heading4').value || null;
            const heading5 = document.getElementById('heading5').value || null;
            const conclusion = document.getElementById('conclusion').value;
    
            // Create a new blog object
            const blog = {
                title,
                excerpt,
                content,
                imageUrl,
                author,
                commentsCount,
                href,
                coverImage,
                introductionText,
                image1,
                text1,
                image2,
                text2,
                image3,
                text3,
                image4,
                text4,
                image5,
                text5,
                heading1,
                heading2,
                heading3,
                heading4,
                heading5,
                conclusion
            };
    
            try {
                // Send a POST request to the backend API
                const response = await fetch('https://crabackendnew.vercel.app/api/blogs', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(blog)
                });
    
                if (response.ok) {
                    document.getElementById('message').innerHTML = `<p style="color: green;">Blog post created successfully!</p>`;
                    document.getElementById('blogForm').reset(); // Reset the form after successful submission
                } else {
                    const errorData = await response.json();
                    document.getElementById('message').innerHTML = `<p style="color: red;">${errorData.message || 'Error creating blog post. Please try again.'}</p>`;
                }
            } catch (error) {
                document.getElementById('message').innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        });
    </script>
    
    

</body>
</html>
